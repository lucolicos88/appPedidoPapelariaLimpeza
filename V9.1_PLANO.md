# üìã PLANO v9.1 - Melhorias de UX e Estrutura

## üêõ BUGS A CORRIGIR

### 1. **Loop Infinito no renderCatalogoProdutos**
**Problema:** `atualizarResumoCarrinho()` chama `renderCatalogoProdutos()` que chama `atualizarResumoCarrinho()` novamente
**Solu√ß√£o:** Remover a chamada `renderCatalogoProdutos()` de dentro de `atualizarResumoCarrinho()` e atualizar apenas os checkmarks via atualiza√ß√£o de borda dos cards

### 2. **Nome do Solicitante**
**Problema:** Mostrando nome do email ao inv√©s do nome real
**Solu√ß√£o:** Buscar nome real do usu√°rio da aba Usu√°rios ou usar Session.getActiveUser().getEmail() e mapear para nome

### 3. **Acesso √† Configura√ß√µes**
**Problema:** Usu√°rio n√£o consegue acessar cadastro de usu√°rios
**Solu√ß√£o:** Melhorar visibilidade e funcionamento do cadastro de usu√°rios

## üéØ MELHORIAS DE UX

### 1. **Reorganiza√ß√£o das Abas**
- **RENOMEAR:** "Pedidos" ‚Üí "Abrir Pedido"
- **NOVA ABA:** "Gest√£o de Pedidos" (apenas Admin/Gestor)
  - Visualiza√ß√£o de todos os pedidos
  - Altera√ß√£o de status
  - Filtros avan√ßados
  - Exporta√ß√£o de relat√≥rios

### 2. **Simplifica√ß√£o do Modal de Pedido**
- **REMOVER:** Pre√ßo dos produtos no card
- **REMOVER:** Valor total e subtotais
- **MANTER:** Apenas quantidade e estoque dispon√≠vel
- **ADICIONAR:** Sele√ß√£o de tipo de pedido ANTES do cat√°logo
  - Dropdown: "Papelaria" ou "Limpeza"
  - Cat√°logo mostra apenas produtos do tipo selecionado
  - N√£o permitir mix de tipos

### 3. **Valida√ß√£o de Estoque**
- **BLOQUEAR:** Adicionar produtos sem estoque ao carrinho
- **DESABILITAR:** Bot√£o "+" quando estoque = 0
- **ALERTAR:** Quando quantidade solicitada > estoque dispon√≠vel

## üìù ESTRUTURA DE ARQUIVOS

### Frontend (Index.html):
1. Renomear se√ß√£o de Pedidos
2. Criar nova se√ß√£o Gest√£o de Pedidos
3. Simplificar modal de pedido
4. Corrigir fun√ß√µes JS

### Backend:
1. Criar fun√ß√£o para obter nome real do usu√°rio
2. Melhorar estrutura de cadastro de usu√°rios

## ‚úÖ CHECKLIST DE IMPLEMENTA√á√ÉO

- [ ] Corrigir loop infinito em `atualizarResumoCarrinho()`
- [ ] Remover pre√ßos do cat√°logo visual
- [ ] Adicionar sele√ß√£o de tipo de pedido no in√≠cio
- [ ] Criar aba "Gest√£o de Pedidos"
- [ ] Renomear aba "Pedidos" para "Abrir Pedido"
- [ ] Corrigir nome do solicitante
- [ ] Melhorar cadastro de usu√°rios
- [ ] Atualizar vers√£o para 9.1
- [ ] Testar fluxo completo
- [ ] Commit e push
